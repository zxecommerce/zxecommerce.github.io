var cobra;(cobra=cobra||{}).social_media_sharing={apply_to_page:function(){"use strict";$("#sharing-button").bind("click",function(e){$("#sharing-links").css("display","block"),e.stopPropagation()}),$(".sharing-links").bind("touchend",function(e){e.stopPropagation()}),$(document).bind("click touchend",function(){$("#sharing-links").css("display","none")})}},$(document).ready(function(){"use strict";cobra.social_media_sharing.apply_to_page()}),(cobra=cobra||{}).perspectives_form=function(n){"use strict";function t(){$("#perspectives-form").unbind().submit(function(e){var t;e.preventDefault(),$("#perspectives-form").unbind().submit(function(e){e.preventDefault()}),$("#perspectives-submit").addClass("btn-disabled").attr("disabled","disabled"),t=$("#perspectives-form").attr("data-ajax-endpoint"),n.post(t,{"perspectives-email":$("#perspectives-email").val()},o,i)}),$("#perspectives-submit").removeClass("btn-disabled").removeAttr("disabled")}function o(e){c(e.data)}function i(e){c(e.data),t()}function c(e){$("#perspectives-message").text(e)}return{apply_to_page:t}},$(document).ready(function(){"use strict";cobra.perspectives_form(cobra.network()).apply_to_page()}),(cobra=cobra||{}).network=function(){"use strict";var c=function(t,e){return{header:function(e){return t.getResponseHeader(e)},data:e,code:t.status}},r=function(o){return function(e,t,n){o&&o(c(n,e))}},a=function(t){return function(e){t&&t(c(e,e.responseText))}};return{get:function(e,t,n,o){$.ajax({url:e,success:r(n),error:a(o)})},promise_get:function(e){return Q.promise(function(o,t){$.ajax({url:e}).then(function(e,t,n){delete n.then,o(e)},function(e){delete e.then,t(c(e,e.responseText))})})},post:function(e,t,n,o,i){$.ajax({url:e,data:t,headers:i,success:r(n),error:a(o),type:"POST"})},promise_post:function(e,n,i){return Q.promise(function(o,t){$.ajax({url:e,data:n,headers:i,type:"POST"}).then(function(e,t,n){delete n.then,o(c(n,e))},function(e){delete e.then,t(c(e,e.responseText))})})},put:function(e,t,n,o,i){$.ajax({url:e,data:t,headers:i,success:r(n),error:a(o),type:"PUT"})},delete:function(e,t,n,o){$.ajax({url:e,data:t,success:r(n),error:a(o),type:"DELETE"})}}},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(b){var o=/\+/g;function m(e){return v.raw?e:encodeURIComponent(e)}function h(e,t){var n=v.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(o," ")),v.json?JSON.parse(e):e}catch(e){}}(e);return b.isFunction(t)?t(n):n}var v=b.cookie=function(e,t,n){if(void 0!==t&&!b.isFunction(t)){if("number"==typeof(n=b.extend({},v.defaults,n)).expires){var o=n.expires,i=n.expires=new Date;i.setTime(+i+864e5*o)}return document.cookie=[m(e),"=",(c=t,m(v.json?JSON.stringify(c):String(c))),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}for(var c,r,a=e?void 0:{},s=document.cookie?document.cookie.split("; "):[],u=0,l=s.length;u<l;u++){var p=s[u].split("="),d=(r=p.shift(),v.raw?r:decodeURIComponent(r)),f=p.join("=");if(e&&e===d){a=h(f,t);break}e||void 0===(f=h(f))||(a[d]=f)}return a};v.defaults={},b.removeCookie=function(e,t){return void 0!==b.cookie(e)&&(b.cookie(e,"",b.extend({},t,{expires:-1})),!b.cookie(e))}}),function(s){s.fn.fastClick=function(e){return s(this).each(function(){s.FastButton(s(this)[0],e)})},s.FastButton=function(t,n){var o,i,c=function(){s(t).unbind("touchend"),s("body").unbind("touchmove.fastClick")},r=function(e){e.stopPropagation(),c(),n.call(this,e),"touchend"===e.type&&s.clickbuster.preventGhostClick(o,i)},a=function(e){(10<Math.abs(e.originalEvent.touches[0].clientX-o)||10<Math.abs(e.originalEvent.touches[0].clientY-i))&&c()};s(t).bind({touchstart:function(e){e.stopPropagation(),s(t).bind("touchend",r),s("body").bind("touchmove.fastClick",a),o=e.originalEvent.touches[0].clientX,i=e.originalEvent.touches[0].clientY},click:r})},s.clickbuster={coordinates:[],preventGhostClick:function(e,t){s.clickbuster.coordinates.push(e,t),window.setTimeout(s.clickbuster.pop,2500)},pop:function(){s.clickbuster.coordinates.splice(0,2)},onClick:function(e){var t,n,o;for(o=0;o<s.clickbuster.coordinates.length;o+=2)t=s.clickbuster.coordinates[o],n=s.clickbuster.coordinates[o+1],Math.abs(e.clientX-t)<25&&Math.abs(e.clientY-n)<25&&(e.stopPropagation(),e.preventDefault())}},s(function(){document.addEventListener?document.addEventListener("click",s.clickbuster.onClick,!0):document.attachEvent&&document.attachEvent("onclick",s.clickbuster.onClick)})}(jQuery),(cobra=cobra||{}).cookie_banner={apply_to_page:function(){"use strict";void 0===$.cookie("tw-cookie-banner-shown")&&($("#cookie-banner-wrapper").show(),$.cookie("tw-cookie-banner-shown","1")),$("#cookie-banner-close-button").click(function(e){e.preventDefault(),$("#cookie-banner-wrapper").hide()})}},$(document).ready(function(){"use strict";cobra.cookie_banner.apply_to_page()}),(cobra=cobra||{}).mobile_menu={apply_to_page:function(){"use strict";$("#mobile-menu-title, #mobile-menu-close").fastClick(function(e){e.preventDefault(),$("#mobile-menu").toggleClass("mobile-menu--is-active"),$("#mobile-menu").toggleClass("mobile-menu-is-active"),$("html").toggleClass("remove-scroll"),$("body").toggleClass("remove-scroll")})}},$(document).ready(function(){"use strict";cobra.mobile_menu.apply_to_page()});
//# sourceMappingURL=shared.js.map
